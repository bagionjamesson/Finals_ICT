<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Lesson 1</title> 
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,600,700&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="../../../pictures/logo.png">
  <style>
    body {
      margin: 0;
      font-family: 'Montserrat', Arial, sans-serif;
      background: #f5f7fa;
      color: #204080;
    }
    /* ===== NAVBAR ===== */
    .navbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: #285197;
      padding: 0 48px;
      height: 70px;
    }
    .navbar-left {
      display: flex;
      align-items: center;
    }
    .navbar-logo {
      width: 2em;
      height: 2em;
      margin-right: 14px;
      border-radius: 0;      /* Square logo */
      object-fit: cover;
      vertical-align: middle;
    }
    .navbar-title {
      color: #fff;
      font-size: 1.6em;
      font-weight: 700;
      letter-spacing: 0.5px;
      display: flex;
      align-items: center;
    }
    .navbar-title .auto { color: #fff; }
    .navbar-title .learn { color: #FFD600; margin-left: 2px; }
    .navbar-title .ph { color: #fff; font-size: 1em; font-weight: 500; margin-left: 4px; }
    .navbar-menu {
      display: flex;
      align-items: center;
      list-style: none;
      margin: 0;
      padding: 0;
    }
    .navbar-menu li { margin-left: 32px; }
    .navbar-menu li a {
      color: #fff;
      text-decoration: none;
      font-size: 1em;
      font-weight: 600;
      padding: 8px 18px;
      border-radius: 6px;
      transition: background 0.2s, color 0.2s;
      background: transparent;
    }
    .navbar-menu li a.active,
    .navbar-menu li a:hover {
      background: #4666a3;
      color: #fff;
    }

    /* ===== SECTION 1: HERO ===== */
    .section-blue {
      background: #b3c6e0;
      color: #204080;
      padding: 56px 0 48px 0;
      text-align: center;
    }
    .section-blue .main-title {
      font-size: 2.6em;
      font-weight: 700;
      margin-bottom: 18px;
      margin-top: 32px;
    }
    .section-blue .subtitle {
      font-size: 1.2em;
      font-weight: 400;
      margin-bottom: 32px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      line-height: 1.5;
    }
    .start-btn {
      background: #FFD600;
      color: #285197;
      font-weight: 700;
      padding: 16px 40px;
      border: none;
      border-radius: 8px;
      font-size: 1.2em;
      text-decoration: none;
      margin-top: 24px;
      display: inline-block;
      transition: background 0.2s, color 0.2s;
      box-shadow: 0 2px 8px rgba(0,0,0,0.07);
    }
    .start-btn:hover {
      background: #ffe066;
      color: #204080;
    }

    /* ===== SECTION 2: FEATURES ===== */
    .section-white {
      background: #b3c6e0;
      color: #204080;
      padding: 56px 0 48px 0;
      text-align: center;
    }
    .features {
      display: flex;
      justify-content: center;
      gap: 36px;
      margin-top: 32px;
      flex-wrap: wrap;
    }
    .feature-box {
      background: #ffffff;
      color: #ffffff;
      border-radius: 16px;
      box-shadow: 0 2px 12px rgba(40,81,151,0.13);
      padding: 32px 28px;
      width: 320px;
      min-height: 220px;
      transition: transform 0.2s, box-shadow 0.2s, background 0.2s;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .feature-box:hover {
      transform: translateY(-8px) scale(1.03);
      box-shadow: 0 8px 24px rgba(40,81,151,0.18);
      background: #2a60b1;
    }
    .feature-title {
      font-size: 1.3em;
      font-weight: 700;
      margin-bottom: 14px;
      color: #FFD600;
    }
    .feature-desc {
      font-size: 1em;
      color: #000000;
      line-height: 1.5;
    }

    /* ===== SECTION 2: LESSON/VIDEO PRESENTATION ===== */
    .lesson-video-container {
      background: #fff;
      border-radius: 18px;
      min-height: 380px;
      max-width: 900px;
      margin: 32px auto; /* Simplified margin */
      box-shadow: 0 4px 24px rgba(40,81,151,0.10);
      display: flex;
      flex-direction: column; /* Stack controls and canvas vertically */
      align-items: center; /* Center items horizontally */
      justify-content: center;
      padding: 20px; /* Add some padding */
    }
    /* PDF Viewer Controls Styling */
    .pdf-controls-container {
      text-align: center;
      width: 100%; /* Ensure it takes full width for centering */
    }
    .pdf-controls-container.top {
      margin-bottom: 15px;
    }
    .pdf-controls-container.bottom {
      margin-top: 15px;
    }
    .pdf-nav-button {
      padding: 8px 16px;
      font-size: 1em;
      cursor: pointer;
      /* Add other common button styles here if needed, e.g., background, border */
    }
    .pdf-page-info {
      margin: 0 10px;
      font-size: 1em;
      color: #204080; /* Matches body color or a suitable contrast */
    }

    /* ===== SECTION 3: FOOTER ===== */
    .footer-section {
      background: #204080; /* Changed to match section-blue */
      color: #204080;
      padding: 48px 0 24px 0;
      text-align: center;
    }
    .footer-columns {
      display: flex;
      justify-content: center;
      gap: 56px;
      flex-wrap: wrap;
      margin-bottom: 0;
    }
    .footer-col { /* Removed boxing styles */
      min-width: 220px;
      text-align: left;
      flex: 1 1 0;
      padding: 24px 18px;
      /* margin-bottom is handled by gap in flex container */
      color: #204080; /* Default text color for the column */
    }
    .footer-col h3 {
      color: #ffffff; /* Adjusted for new background */
      font-size: 1.1em;
      font-weight: 700;
      margin-bottom: 12px;
      position: relative;
      display: inline-block;
    }
    .footer-underline {
      display: block;
      height: 3px;
      width: 36px;
      background: #FFD600;
      border-radius: 2px;
      margin-top: 4px;
      position: absolute;
      left: 0;
      bottom: -8px;
      content: "";
    }
    .footer-desc {
      font-size: 1em;
      margin-bottom: 24px;
      color: #ffffff; /* Adjusted for new font color */
      max-width: 320px;
    }
    .footer-col ul {
      list-style: none;
      padding: 0;
      margin: 0 0 12px 0;
    }
    .footer-col ul li {
      margin-bottom: 10px;
    }
    .footer-col ul li a {
      color: #ffffff; /* Adjusted for new font color */
      text-decoration: none;
      font-size: 1em;
      transition: color 0.2s;
    }
    .footer-col ul li a:hover {
      color: #FFD600; /* Accent color for hover */
    }
    .footer-contact {
      font-size: 1em;
      color: #ffffff; /* Adjusted for new font color */
      margin-bottom: 10px;
      display: flex;
      align-items: center;
    }
    .footer-social-link svg,
    .footer-contact .footer-social-link svg {
      transition: fill 0.2s, color 0.2s;
    }
    .footer-social-link.mail:hover svg { fill: #FFD600; }
    .footer-social-link.phone:hover svg { fill: #4CAF50; }
    .footer-social-link.location:hover svg { fill: #03a9f4; }
    .footer-social-link { vertical-align: middle; margin-right: 10px; }
    .footer-social-link:last-child { margin-right: 0; }
    .footer-icon { margin-right: 8px; }
    .footer-bottom {
      text-align: center;
      font-size: 0.98em;
      color: #ffffff; /* Adjusted for visibility on light background */
      margin-top: 0;
      padding-bottom: 18px;
    }

    /* ===== RESPONSIVE ===== */
    @media (max-width: 900px) {
      .features, .footer-columns {
        flex-direction: column;
        align-items: center;
        gap: 24px;
      }
      .navbar {
        flex-direction: column;
        height: auto;
        padding: 0 16px;
      }
      .navbar-menu {
        margin-top: 12px;
      }
      .footer-col {
        min-width: 0;
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <!-- Navigation/Menu -->
  <nav class="navbar">
    <div class="navbar-left">
      <a href="../../menu.html" style="display: flex; align-items: center; text-decoration: none;">
        <img src="../../logo.png" alt="Logo" class="navbar-logo" style="width: 2em; height: 2em; margin-right: 14px;">
        <div class="navbar-title">
          <span class="auto">Auto</span><span class="learn">Learn</span> <span class="ph">PH</span>
        </div>
      </a>
    </div>
    <ul class="navbar-menu">
      <li><a href="index.html" class="active">Home</a></li>
      <li><a href="lesson1.html">Lessons</a></li>
      <li><a href="materials.html">Learning Materials</a></li>
      <li><a href="about.html">About Us</a></li>
    </ul>
  </nav>

  <!-- Section 1: Blue -->
  <section class="section section-blue">
  </section>

  <!-- Section 2: Lesson/Video Presentation (same background as navbar/section 1) -->
  <section class="section section-blue">
    <div class="lesson-video-container">
      <!-- Top PDF Controls -->
      <div id="pdf-viewer-controls-top" class="pdf-controls-container top">
        <button id="prev-page-top" class="pdf-nav-button">Previous</button>
        <span class="pdf-page-info">
          Page <span id="page-num">0</span> / <span id="page-count">0</span>
        </span>
        <button id="next-page-top" class="pdf-nav-button">Next</button>
      </div>

      <canvas id="pdf-canvas" style="border: 1px solid #ccc; max-width: 100%;"></canvas> <!-- Style for canvas can also be moved -->
      <div id="pdf-loading-error" style="color: red; margin-top: 10px;"></div> <!-- Style for error can also be moved -->

      <!-- Bottom PDF Controls -->
      <div id="pdf-viewer-controls-bottom" class="pdf-controls-container bottom">
        <button id="prev-page-bottom" class="pdf-nav-button">Previous</button>
        <button id="next-page-bottom" class="pdf-nav-button">Next</button>
      </div>
    </div>
    <!-- "Take Quiz" Button -->
    <a href="../../Quiz/Lesson1/Quiz1.html" class="start-btn">Take Quiz</a>
  </section>

  <!-- Section 3: Footer/Links -->
  <footer class="footer-section">
    <div class="footer-columns">
      <!-- Column 1: About -->
      <div class="footer-col">
        <h3>AutoLearn PH <span class="footer-underline"></span></h3>
        <div class="footer-desc">
          Your complete automotive learning companion designed for Filipino learners. Aligned with TESDA standards and industry best practices.
        </div>
      </div>
      <!-- Column 2: Quick Links -->
      <div class="footer-col">
        <h3>Quick Links <span class="footer-underline"></span></h3>
        <ul>
          <li><a href="#">Home</a></li>
          <li><a href="#">Lessons</a></li>
          <li><a href="#">Learning Materials</a></li>
          <li><a href="#">About Us</a></li>
        </ul>
      </div>
      <!-- Column 3: Learning Resources -->
      <div class="footer-col">
        <h3>Learning Resources <span class="footer-underline"></span></h3>
        <ul>
          <li><a href="https://e-tesda.gov.ph/" target="_blank">TESDA Online</a></li>
          <li><a href="https://www.youtube.com/@TESDAOfficial" target="_blank">TESDA YouTube</a></li>
          <li><a href="#">Automotive Forums</a></li>
          <li><a href="#">Video Tutorials</a></li>
        </ul>
      </div>
      <!-- Column 4: Contact Us -->
      <div class="footer-col">
        <h3>Contact Us <span class="footer-underline"></span></h3>
        <div class="footer-contact">
          <a href="mailto:contact@autolearn.ph" class="footer-social-link mail" aria-label="Email">
            <svg class="footer-icon" width="20" height="20" fill="#FFD600" viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 2v.01L12 13 4 6.01V6h16zM4 20v-9.99l7.99 7.99c.39.39 1.02.39 1.41 0L20 10.01V20H4z"/></svg>
          </a>
          contact@autolearn.ph
        </div>
        <div class="footer-contact">
          <a href="tel:+639123456789" class="footer-social-link phone" aria-label="Phone">
            <svg class="footer-icon" width="20" height="20" fill="#FFD600" viewBox="0 0 24 24"><path d="M6.62 10.79a15.053 15.053 0 0 0 6.59 6.59l2.2-2.2a1 1 0 0 1 1.01-.24c1.12.37 2.33.57 3.58.57a1 1 0 0 1 1 1V20a1 1 0 0 1-1 1C10.07 21 3 13.93 3 5a1 1 0 0 1 1-1h3.5a1 1 0 0 1 1 1c0 1.25.2 2.46.57 3.58a1 1 0 0 1-.24 1.01l-2.2 2.2z"/></svg>
          </a>
          +63 912 345 6789
        </div>
        <div class="footer-contact">
          <a href="https://goo.gl/maps/xyz" target="_blank" class="footer-social-link location" aria-label="Location">
            <svg class="footer-icon" width="20" height="20" fill="#FFD600" viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
          </a>
          Manila, Philippines
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <hr style="border: none; border-top: 1px solid #3b4e7a; margin: 24px 0 12px 0;">
      Â© 2023 AutoLearn PH. All rights reserved.
    </div>
  </footer>

  <!-- PDF.js Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>
  <script>
    // Set workerSrc for PDF.js
    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.worker.min.js';

    const url = 'lesson1.pdf'; // IMPORTANT: Make sure 'lessona.pdf' is in the same directory as lesson1.html

    const pdfCanvas = document.getElementById('pdf-canvas');
    const prevButtonTop = document.getElementById('prev-page-top');
    const nextButtonTop = document.getElementById('next-page-top');
    const prevButtonBottom = document.getElementById('prev-page-bottom');
    const nextButtonBottom = document.getElementById('next-page-bottom');
    const pageNumDisplay = document.getElementById('page-num');
    const pageCountDisplay = document.getElementById('page-count');
    const pdfLoadingError = document.getElementById('pdf-loading-error');
    const ctx = pdfCanvas.getContext('2d');
    const controlsTop = document.getElementById('pdf-viewer-controls-top');
    const controlsBottom = document.getElementById('pdf-viewer-controls-bottom');

    let pdfDoc = null;
    let currentPageNum = 1;
    let pageRendering = false;
    let pageNumPending = null;
    const scale = 1.5; // You can adjust this scale

    function renderPage(num) {
      pageRendering = true;
      pdfDoc.getPage(num).then(function(page) {
        const viewport = page.getViewport({ scale: scale });
        pdfCanvas.height = viewport.height;
        pdfCanvas.width = viewport.width;

        const renderContext = {
          canvasContext: ctx,
          viewport: viewport
        };
        const renderTask = page.render(renderContext);

        renderTask.promise.then(function() {
          pageRendering = false;
          if (pageNumPending !== null) {
            renderPage(pageNumPending);
            pageNumPending = null;
          }
        });
      });
      pageNumDisplay.textContent = num;
    }

    function queueRenderPage(num) {
      if (pageRendering) {
        pageNumPending = num;
      } else {
        renderPage(num);
      }
    }

    function onPrevPage() {
      if (currentPageNum <= 1) {
        return;
      }
      currentPageNum--;
      queueRenderPage(currentPageNum);
    }

    function onNextPage() {
      if (currentPageNum >= pdfDoc.numPages) {
        return;
      } 
      currentPageNum++;
      queueRenderPage(currentPageNum);
    }

    prevButtonTop.addEventListener('click', onPrevPage);
    nextButtonTop.addEventListener('click', onNextPage);
    prevButtonBottom.addEventListener('click', onPrevPage);
    nextButtonBottom.addEventListener('click', onNextPage);

    pdfjsLib.getDocument(url).promise.then(function(pdfDoc_) {
      pdfDoc = pdfDoc_;
      controlsTop.style.display = 'block'; // Show controls
      controlsBottom.style.display = 'block'; // Show controls
      pageCountDisplay.textContent = pdfDoc.numPages;
      renderPage(currentPageNum);
      pdfLoadingError.textContent = ''; // Clear any previous error
    }).catch(function(error) {
      console.error('Error loading PDF: ' + error);
      pdfLoadingError.textContent = 'Error loading PDF. Please ensure the file "lesona.pdf" is in the correct location and is a valid PDF. Check the browser console for more details.';
      // Hide canvas and controls if PDF fails to load
      pdfCanvas.style.display = 'none';
      controlsTop.style.display = 'none';
      controlsBottom.style.display = 'none';
    });
  </script>
</body>
</html>